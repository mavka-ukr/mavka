взяти означення машина_мавки;

простір мавка {
  місцева дія покласти_місцезнаходження_вказівки(
    М: адреса<Машина>,
    місцезнаходження_вказівок: адреса<МісцезнаходженняВказівок>,
    рядок: п32,
    позиція_вказівки: п32
  ) {
    якщо місцезнаходження_вказівок.розмір != 0 {
      змінна м = місцезнаходження_вказівок.дані[місцезнаходження_вказівок.розмір - 1]::адреса;

      якщо м.рядок == рядок {
        якщо м.початок > позиція_вказівки {
          м.початок = позиція_вказівки;
        }
        якщо м.кінець < позиція_вказівки {
          м.кінець = позиція_вказівки;
        }
        вернути;
      }
    }

    місцезнаходження_вказівок.дані = перевиділити_памʼять<МісцезнаходженняВказівки>(М, місцезнаходження_вказівок.дані, місцезнаходження_вказівок.розмір + 1);
    місцезнаходження_вказівок.дані[місцезнаходження_вказівок.розмір] = МісцезнаходженняВказівки {
      початок = позиція_вказівки,
      кінець = позиція_вказівки,
      рядок = рядок
    };
    місцезнаходження_вказівок.розмір += 1;
  }
}