взяти біб інтернет

підключені_клієнти = []

дія обробити_повідомлення(обслуговувач, клієнт, повідомлення)
  перебрати підключені_клієнти як підключений_клієнт
    підключений_клієнт.надіслати(повідомлення)
  кінець
кінець

дія обробити_відключення(обслуговувач, клієнт)
  друк("відключення ", клієнт)
  підключені_клієнти := підключені_клієнти.фільтрувати(
    дія(підключений_клієнт): підключений_клієнт != клієнт
  )
кінець

дія обробити_підключення(обслуговувач, клієнт)
  друк("підключення ", клієнт)
  клієнт.обробник_повідомлення = обробити_повідомлення
  клієнт.обробник_відключення = обробити_відключення
кінець

обслуговувач = інтернет.створити_обслуговувач(обробити_підключення)

друк(обслуговувач)

обслуговувач.слухати(8080)