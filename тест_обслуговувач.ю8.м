взяти біб інтернет

дія обробити_зупинку_обслуговувача(обслуговувач, помилка)
  якщо помилка
    друк("зупинено з помилкою", помилка)
  інакше
    друк("зупинено")
  кінець
кінець

дія обробити_дані_звʼязку(звʼязок, дані)
  вивести("отримано", юнікод(дані))
  інтернет.надіслати(дані, звʼязок)

  вивести("надіслано", юнікод(дані))
кінець

дія обробити_закінчення_звʼязку(звʼязок, помилка)
  друк("клієнт закінчив повідомлення")

  інтернет.закінчити(звʼязок)
кінець

дія обробити_відключення_звʼязку(звʼязок, помилка)
  якщо помилка
    друк("відключено з помилкою", помилка)
  інакше
    друк("відключено")
  кінець
кінець

дія обробити_підключення_звʼязку_обслуговувача(обслуговувач, звʼязок, помилка)
  якщо помилка
    друк("помилка підключення", помилка)
  інакше
    друк("підключено", звʼязок)

    звʼязок.обробник_даних = обробити_дані_звʼязку
    звʼязок.обробник_закінчення = обробити_закінчення_звʼязку
    звʼязок.обробник_відключення = обробити_відключення_звʼязку
  кінець
кінець

дія обробити_запуск_обслуговувача(обслуговувач, помилка)
  якщо помилка
    друк("помилка запуску", помилка)
  інакше
    обслуговувач.обробник_зупинки = обробити_зупинку_обслуговувача
    обслуговувач.обробник_підключення_звʼязку = обробити_підключення_звʼязку_обслуговувача
    друк("запущено")
  кінець
кінець

інтернет.обслуговувати(
  "0.0.0.0",
  8080,
  обробити_запуск_обслуговувача
)
