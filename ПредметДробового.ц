взяти означення ./мавка;

простір мавка {
  місцева дія предмет_дробового_додати(М: адреса<Машина>, значення: Значення, право: Значення, місцезнаходження: Місцезнаходження) -> ЗначенняАбоСтанПадіння {
    якщо право == пусто {
      стрибнути крок_помилка;
    }

    змінна ліво_предмет = значення як адреса<Предмет>;
    змінна властивості_ліво = ліво_предмет.властивості як ВластивостіДробового;

    якщо право.тип == М.значення_структура_Дробове {
      змінна право_предмет = право як адреса<Предмет>;
      змінна властивості_право = право_предмет.властивості як ВластивостіДробового;
    
      вернути створити_дробове(М, властивості_ліво.значення + властивості_право.значення);
    }

    якщо право.тип == М.значення_структура_Ціле {
      змінна право_предмет = право як адреса<Предмет>;
      змінна властивості_право = право_предмет.властивості як ВластивостіЦілого;
    
      вернути створити_дробове(М, властивості_ліво.значення + д64(властивості_право.значення));
    }
    
  крок_помилка:
    М.стан_падіння = так;
    М.значення_падіння = створити_текст(М, "Додати до дробового числа можна лише або ціле або дробове число.");
    вернути пусто;
  }
  
  місцева дія предмет_дробового_відняти(М: адреса<Машина>, значення: Значення, право: Значення, місцезнаходження: Місцезнаходження) -> ЗначенняАбоСтанПадіння {
    якщо право == пусто {
      стрибнути крок_помилка;
    }

    змінна ліво_предмет = значення як адреса<Предмет>;
    змінна властивості_ліво = ліво_предмет.властивості як ВластивостіДробового;

    якщо право.тип == М.значення_структура_Дробове {
      змінна право_предмет = право як адреса<Предмет>;
      змінна властивості_право = право_предмет.властивості як ВластивостіДробового;
    
      вернути створити_дробове(М, властивості_ліво.значення - властивості_право.значення);
    }

    якщо право.тип == М.значення_структура_Ціле {
      змінна право_предмет = право як адреса<Предмет>;
      змінна властивості_право = право_предмет.властивості як ВластивостіЦілого;
    
      вернути створити_дробове(М, властивості_ліво.значення - д64(властивості_право.значення));
    }

  крок_помилка:
    М.стан_падіння = так;
    М.значення_падіння = створити_текст(М, "Відняти від дробового числа можна лише або ціле або дробове число.");
    вернути пусто;
  }

  місцева дія предмет_дробового_помножити(М: адреса<Машина>, значення: Значення, право: Значення, місцезнаходження: Місцезнаходження) -> ЗначенняАбоСтанПадіння {
    якщо право == пусто {
      стрибнути крок_помилка;
    }

    змінна ліво_предмет = значення як адреса<Предмет>;
    змінна властивості_ліво = ліво_предмет.властивості як ВластивостіДробового;

    якщо право.тип == М.значення_структура_Дробове {
      змінна право_предмет = право як адреса<Предмет>;
      змінна властивості_право = право_предмет.властивості як ВластивостіДробового;
    
      вернути створити_дробове(М, д64(властивості_ліво.значення) * властивості_право.значення);
    }

    якщо право.тип == М.значення_структура_Ціле {
      змінна право_предмет = право як адреса<Предмет>;
      змінна властивості_право = право_предмет.властивості як ВластивостіЦілого;
    
      вернути створити_дробове(М, властивості_ліво.значення * д64(властивості_право.значення));
    }

  крок_помилка:
    М.стан_падіння = так;
    М.значення_падіння = створити_текст(М, "Помножити дробове число можна лише на або ціле або дробове число.");
    вернути пусто;
  }

  місцева дія предмет_дробового_поділити(М: адреса<Машина>, значення: Значення, право: Значення, місцезнаходження: Місцезнаходження) -> ЗначенняАбоСтанПадіння {
    якщо право == пусто {
      стрибнути крок_помилка;
    }

    змінна ліво_предмет = значення як адреса<Предмет>;
    змінна властивості_ліво = ліво_предмет.властивості як ВластивостіДробового;

    якщо право.тип == М.значення_структура_Дробове {
      змінна право_предмет = право як адреса<Предмет>;
      змінна властивості_право = право_предмет.властивості як ВластивостіДробового;
    
      вернути створити_дробове(М, д64(властивості_ліво.значення) / властивості_право.значення);
    }

    якщо право.тип == М.значення_структура_Ціле {
      змінна право_предмет = право як адреса<Предмет>;
      змінна властивості_право = право_предмет.властивості як ВластивостіЦілого;
    
      вернути створити_дробове(М, властивості_ліво.значення / д64(властивості_право.значення));
    }

  крок_помилка:
    М.стан_падіння = так;
    М.значення_падіння = створити_текст(М, "Поділити дробове число можна лише на або ціле або дробове число.");
    вернути пусто;
  }
}