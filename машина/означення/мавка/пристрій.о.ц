/* Пристрій Мавки */

взяти означення мавка/машина;
взяти означення мавка/розбирач;
взяти означення мавка/перекладач;

простір мавка {
  простір пристрій {
    структура ЕлементШляхуПристроюМавки {
      розмір: природне;
      дані: памʼять<п8>;
    }
  }
}

зовнішня дія пристрій_мавки_отримати_версію(вихід_розміру: адреса<природне>, вихід_даних: адреса<памʼять<п8>>) -> логічне;
зовнішня дія пристрій_мавки_перекодувати_ю8_в_кд(розмір: природне, дані: памʼять<п8>, вихід_розміру: адреса<природне>, вихід_даних: адреса<памʼять<п8>>, вихід_позиції_помилки: адреса<природне>) -> логічне;
зовнішня дія пристрій_мавки_перекодувати_кд_в_ю8(розмір: природне, дані: памʼять<п8>, вихід_розміру: адреса<природне>, вихід_даних: адреса<памʼять<п8>>, вихід_позиції_помилки: адреса<природне>) -> логічне;
зовнішня дія пристрій_мавки_вивести_формат(значення: природне);
зовнішня дія пристрій_мавки_вивести_сирі_дані(розмір: природне, дані: памʼять<п8>);
зовнішня дія пристрій_мавки_вивести_кд(розмір: природне, дані: памʼять<п8>);
зовнішня дія пристрій_мавки_надрукувати_кд(розмір: природне, дані: памʼять<п8>);
зовнішня дія пристрій_мавки_вивести_ю8(розмір: природне, дані: памʼять<п8>);
зовнішня дія пристрій_мавки_надрукувати_ю8(розмір: природне, дані: памʼять<п8>);
зовнішня дія пристрій_мавки_вивести_шлях(розмір: природне, дані: памʼять<п8>);
зовнішня дія пристрій_мавки_надрукувати_шлях(розмір: природне, дані: памʼять<п8>);
зовнішня дія пристрій_мавки_виділити_сиру_памʼять(розмір: природне) -> памʼять<п8>;
зовнішня дія пристрій_мавки_перевиділити_сиру_памʼять(значення: памʼять<п8>, новий_розмір: природне) -> памʼять<п8>;
зовнішня дія пристрій_мавки_звільнити_сиру_памʼять(значення: памʼять<п8>);
зовнішня дія пристрій_мавки_вийти(код: ц32);
зовнішня дія пристрій_мавки_прочитати_файл(розмір_шляху: природне, дані_шляху: памʼять<п8>, вихід_розміру: адреса<природне>, вихід_даних: адреса<памʼять<п8>>) -> логічне;
зовнішня дія пристрій_мавки_перетворити_п64_в_кд(значення: п64, вихід_розміру: адреса<природне>, вихід_даних: адреса<памʼять<п8>>) -> логічне;
зовнішня дія пристрій_мавки_перетворити_ц64_в_кд(значення: ц64, вихід_розміру: адреса<природне>, вихід_даних: адреса<памʼять<п8>>) -> логічне;
зовнішня дія пристрій_мавки_перетворити_д64_в_кд(значення: д64, вихід_розміру: адреса<природне>, вихід_даних: адреса<памʼять<п8>>, вихід_розміру_експоненти: адреса<ціле>) -> логічне;
зовнішня дія пристрій_мавки_піднести_до_степеня_п64(значення: п64, степінь: п64) -> п64;
зовнішня дія пристрій_мавки_піднести_до_степеня_ц64(значення: ц64, степінь: ц64) -> ц64;
зовнішня дія пристрій_мавки_піднести_до_степеня_д64(значення: д64, степінь: д64) -> д64;
зовнішня дія пристрій_мавки_перевірити_чи_шлях_існує_і_є_файлом(розмір_шляху: природне, дані_шляху: памʼять<п8>) -> логічне;
зовнішня дія пристрій_мавки_перевірити_чи_шлях_закінчується_як_модуль_мавки(розмір_шляху: природне, дані_шляху: памʼять<п8>) -> логічне;
зовнішня дія пристрій_мавки_отримати_абсолютний_шлях(розмір_шляху: природне, дані_шляху: памʼять<п8>, вихід_розміру: адреса<природне>, вихід_даних: адреса<памʼять<п8>>) -> логічне;
зовнішня дія пристрій_мавки_отримати_теку_шляху(розмір_шляху: природне, дані_шляху: памʼять<п8>, вихід_розміру: адреса<природне>, вихід_даних: адреса<памʼять<п8>>, рівень: природне) -> логічне;
зовнішня дія пристрій_мавки_отримати_теку_до_паків(розмір_шляху: природне, дані_шляху: памʼять<п8>, вихід_розміру: адреса<природне>, вихід_даних: адреса<памʼять<п8>>) -> логічне;
зовнішня дія пристрій_мавки_отримати_назву_модуля_з_шляху(розмір_шляху: природне, дані_шляху: памʼять<п8>, вихід_розміру: адреса<природне>, вихід_даних: адреса<памʼять<п8>>) -> логічне;
зовнішня дія пристрій_мавки_збити_шлях_до_модуля(кількість_елементів: природне, елементи: памʼять<мавка::пристрій::ЕлементШляхуПристроюМавки>, вихід_розміру: адреса<природне>, вихід_даних: адреса<памʼять<п8>>) -> логічне;
зовнішня дія пристрій_мавки_отримати_відносний_шлях(розмір_шляху: природне, дані_шляху: памʼять<п8>, вихід_розміру: адреса<природне>, вихід_даних: адреса<памʼять<п8>>) -> логічне;
зовнішня дія пристрій_мавки_перевірити_чи_шлях_починається_на(розмір_шляху: природне, дані_шляху: памʼять<п8>, розмір_початку: природне, дані_початку: памʼять<п8>) -> логічне;
зовнішня дія пристрій_мавки_отримати_шлях_до_паку_з_шляху_теки_модулів(розмір_шляху: природне, дані_шляху: памʼять<п8>, розмір_шляху_до_паків: природне, дані_шляху_до_паків: памʼять<п8>, вихід_розміру: адреса<природне>, вихід_даних: адреса<памʼять<п8>>) -> логічне;
зовнішня дія пристрій_мавки_читати_кд(розмір_перед: природне, дані_перед: памʼять<п8>, вихід_розміру: адреса<природне>, вихід_даних: адреса<памʼять<п8>>, дозволити_історію: природне, кінець_файлу: адреса<природне>) -> логічне;
зовнішня дія пристрій_мавки_отримати_поточний_шлях_процесу(вихід_розміру: адреса<природне>, вихід_даних: адреса<памʼять<п8>>) -> логічне;

простір мавка {
  простір пристрій {
    стала ФОчистити = 0;
    стала ФКолірТекстуЧервоний = 1;
    стала ФКолірТекстуЗелений = 2;
    стала ФКолірТекстуСиній = 3;
    стала ФКолірТекстуЖовтий = 4;

    структура КористувацькіДаніПристроюМавки {
      шлях_до_теки_модулів: адреса<Притримане>; // ПредметДаних
      шлях_до_теки_паків: адреса<Притримане>; // ПредметДаних
    }

    місцева дія створити_машину() -> адреса<Машина>;
    місцева дія розібрати_шлях_початкового_модуля(М: адреса<Машина>, шлях: адреса<ПредметДаних>, вихід_абсолютного_шляху: адреса<адреса<ПредметДаних>>, вихід_теки_модулів: адреса<адреса<ПредметДаних>>, вихід_теки_паків: адреса<адреса<ПредметДаних>>, вихід_назви_модуля: адреса<адреса<ПредметТексту>>) -> логічне;
    місцева дія записати_шлях_до_теки_модулів_та_паків(М: адреса<Машина>, шлях_до_теки_модулів: адреса<ПредметДаних>, шлях_до_теки_паків: адреса<ПредметДаних>);
    місцева дія взяти_файл(М: адреса<Машина>, шлях_до_файлу: адреса<ПредметДаних>, назва_модуля: адреса<ПредметТексту>, місцезнаходження: Місцезнаходження) -> ЗначенняАбоСтанПадіння;
    місцева дія надрукувати_інформацію_падіння(М: адреса<Машина>, інформація_падіння: ІнформаціяПадіння);
    місцева дія вивести_значення(М: адреса<Машина>, значення: Значення, розмір_відступу: природне, глибина: природне);
    місцева дія надрукувати_значення(М: адреса<Машина>, значення: Значення, розмір_відступу: природне, глибина: природне);
    місцева дія визначити_глобальний_мавка(М: адреса<Машина>);
    місцева дія визначити_глобальні_виводу(М: адреса<Машина>);
    місцева дія почати_діалог(М: адреса<Машина>, шлях_до_теки_модулів: адреса<ПредметДаних>, шлях_до_файлу_стандартного_входу: адреса<ПредметДаних>);
  }
}